<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>My Vet Tools | Fran Gómez</title>
  <link rel="stylesheet" href="assets/css/styleOfTools.css" />
</head>
<body>

  <main>
    <h3>Useful products for your pet</h3>

    <ul class="tool-index" id="toolIndex">
      <!-- Will be populated by JavaScript -->
    </ul>
    
    <div class="tools-container" id="toolsContainer">
      <!-- Will be populated by JavaScript -->
    </div>

    <p><em>All links may be affiliate links – I only recommend what I personally use or recommended by trusted colleagues</em></p>
  </main>


  <script>
    document.addEventListener('DOMContentLoaded', function() {
      fetch('products.json')
        .then(response => response.json())
        .then(data => {
          const products = data.products;
          const toolIndex = document.getElementById('toolIndex');
          const toolsContainer = document.getElementById('toolsContainer');
          
          // Create index links
          products.forEach(product => {
            const listItem = document.createElement('li');
            listItem.innerHTML = `<a href="#${product.id}">${product.title}</a>`;
            toolIndex.appendChild(listItem);
          });
          
          // Create product cards
          products.forEach(product => {
            const toolCard = document.createElement('div');
            toolCard.className = 'tool-card';
            toolCard.id = product.id;
            
            let videoHtml = '';
            if (product.videoLink) {
              videoHtml = ` <a href="${product.videoLink}" target="_blank" rel="nofollow">See video</a>`;
            }
            
            toolCard.innerHTML = `
              <h2>${product.title}</h2>
              <h3>${product.subtitle}</h3>
              <a href="${product.amazonLink}" target="_blank" rel="nofollow">
                <img src="${product.imageUrl}" alt="${product.title}" style="width: 100%; height: auto; border-radius: 4px;">
              </a>
              <p>${product.description.replace(/\n\n/g, '</p><p>')}</p>
              ${videoHtml}
              <a href="${product.amazonLink}" target="_blank" rel="nofollow">
                <button style="background: #FF9900; border: none; padding: 10px 16px; color: white; border-radius: 5px; cursor: pointer;">Ver en Amazon</button>
              </a>
            `;
            
            toolsContainer.appendChild(toolCard);
          });
        })
        .catch(error => console.error('Error loading products:', error));
    });
  </script>
</body>
</html>
